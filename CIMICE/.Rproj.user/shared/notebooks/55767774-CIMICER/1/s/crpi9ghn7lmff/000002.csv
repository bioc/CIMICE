"0",""
"0","downWeights <<- seq(-1, -1, length.out = length(E(g)))"
"0",""
"0","computeDWNW = function(edge) {"
"0","    "
"0","    if (downWeights[edge] != -1) return(downWeights[edge])"
"0","    "
"0","    source = as_ids(tail_of(g,edge))"
"0","    destination = as_ids(head_of(g,edge))"
"0","    "
"0","    UPW = normUpWeights[edge]"
"0","    P = freqs[destination]"
"0","    "
"0","    W <- 0"
"0","    if(length(which(A[destination,] >= 1)) != 0){"
"0","        edges.exiting.destination <- lapply( as.list(which(A[destination,] >= 1)), function (x) c(destination,x) )"
"0","        edges.exiting.destination <- get.edge.ids(g, unlist(edges.exiting.destination)) "
"0","        "
"0","        W <- sum( sapply( edges.exiting.destination , function (x) computeDWNW(x) ) )"
"0","    }"
"0","    "
"0","    downWeights[edge] <<-  (UPW) * (P+W)"
"0","    return(downWeights[edge])"
"0","}"
"0",""
"0","downWeights <- sapply( 1:length(E(g)), function(x) computeDWNW(x) )"
"0","downWeights"
"1"," [1]"
"1"," 0.13409091"
"1"," 0.09912587"
"1"," 0.03409091"
"1"," 0.12272727"
"1"," 0.10000000"
"1"," 0.04405594"
"1"," 0.02272727"
"1"," 0.04318182"
"1"," 0.53321678"
"1"," 0.46678322"
"1","
"
